from pickle import dump
from os import listdir, mkdir
from os.path import isdir, join


if not isdir('gen'):
    mkdir('gen')
paths = [join('feature_vectors', f) for f in listdir('feature_vectors')]
features = []
for path in paths:
    with open(path, 'r') as file:
        lines = file.read().splitlines()
        for line in lines:
            if line not in features:
                features.append(line)
print(len(features))
with open('gen/features.p', 'wb') as file:
    dump(features, file)
